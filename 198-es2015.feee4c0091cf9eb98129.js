"use strict";(self.webpackChunkacal=self.webpackChunkacal||[]).push([[198],{89841:function(t,n,e){e.d(n,{I:function(){return i}});var o=e(97142),r=e(38583),u=e(37716);let i=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[r.ez,o.T2N,o.KdK]]}),t})()},70319:function(t,n,e){e.d(n,{L:function(){return c}});var o=e(37716),r=e(38583),u=e(97142);function i(t,n){if(1&t&&(o.ynx(0),o._uU(1,"\n    "),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._uU(4,"\n  "),o.BQk()),2&t){const t=o.oxw();o.xp6(3),o.AsE("\n      Pagina: ",t.page.number+1," de ",t.page.totalPages,"\n    ")}}function s(t,n){if(1&t&&(o.ynx(0),o._uU(1,"\n    "),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._uU(4,"\n  "),o.BQk()),2&t){const t=o.oxw();o.xp6(3),o.hij("\n      Total: ",t.page.totalElements,"\n    ")}}function a(t,n){1&t&&(o.ynx(0),o._uU(1,"\n  "),o.TgZ(2,"div",9),o._uU(3,"Nenhum registro atende aos criterios"),o.qZA(),o._uU(4,"\n"),o.BQk())}let c=(()=>{class t{constructor(){this.search=new o.vpe,this.disableBackAction=!1,this.disableFowardAction=!1}ngOnInit(){this.disableBackAction=0==this.page.pageable.pageNumber,this.disableFowardAction=this.page.pageable.pageNumber==this.page.totalPages}fristPage(){0!=this.page.pageable.pageNumber&&this.searchAction(0)}backPage(){0!=this.page.pageable.pageNumber&&this.searchAction(this.page.pageable.pageNumber-1)}forwardPage(){this.page.pageable.pageNumber>=this.page.totalPages-1||this.searchAction(this.page.pageable.pageNumber+1)}lastPage(){this.page.pageable.pageNumber!=this.page.totalPages-1&&this.searchAction(this.page.totalPages-1)}searchAction(t){this.search.emit(t)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngx-app-table-footer"]],inputs:{page:"page"},outputs:{search:"search"},decls:50,vars:5,consts:[[1,"d-flex","justify-content-between"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["nbButton","","outline","","status","basic","fullWidth","",3,"click"],["icon","arrowhead-left-outline"],["icon","arrow-ios-back-outline"],["nbButton","","outline","","status","basic","fullWidth","",3,"disabled"],["icon","arrow-ios-forward-outline"],["icon","arrowhead-right-outline"],[1,"caption"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0),o._uU(1,"\n\n  "),o.YNc(2,i,5,2,"ng-container",1),o._uU(3,"\n\n  "),o.YNc(4,s,5,1,"ng-container",1),o._uU(5,"\n\n"),o.qZA(),o._uU(6,"\n\n\n"),o.YNc(7,a,5,0,"ng-container",1),o._uU(8,"\n\n\n"),o.TgZ(9,"div",2),o._uU(10,"\n  "),o.TgZ(11,"div"),o._uU(12,"\n      "),o.TgZ(13,"button",3),o.NdJ("click",function(){return n.fristPage()}),o._uU(14,"\n        "),o._UZ(15,"nb-icon",4),o._uU(16,"\n      "),o.qZA(),o._uU(17,"\n    "),o.qZA(),o._uU(18,"\n\n    "),o.TgZ(19,"div"),o._uU(20,"\n      "),o.TgZ(21,"button",3),o.NdJ("click",function(){return n.backPage()}),o._uU(22,"\n        "),o._UZ(23,"nb-icon",5),o._uU(24,"\n      "),o.qZA(),o._uU(25,"\n    "),o.qZA(),o._uU(26,"\n\n    "),o.TgZ(27,"div"),o._uU(28,"\n      "),o.TgZ(29,"button",6),o._uU(30),o.qZA(),o._uU(31,"\n    "),o.qZA(),o._uU(32,"\n\n    "),o.TgZ(33,"div"),o._uU(34,"\n      "),o.TgZ(35,"button",3),o.NdJ("click",function(){return n.forwardPage()}),o._uU(36,"\n        "),o._UZ(37,"nb-icon",7),o._uU(38,"\n      "),o.qZA(),o._uU(39,"\n    "),o.qZA(),o._uU(40,"\n\n    "),o.TgZ(41,"div"),o._uU(42,"\n      "),o.TgZ(43,"button",3),o.NdJ("click",function(){return n.lastPage()}),o._uU(44,"\n        "),o._UZ(45,"nb-icon",8),o._uU(46,"\n      "),o.qZA(),o._uU(47,"\n    "),o.qZA(),o._uU(48,"\n\n"),o.qZA(),o._uU(49,"\n\n")),2&t&&(o.xp6(2),o.Q6J("ngIf",!n.page.empty),o.xp6(2),o.Q6J("ngIf",!n.page.empty),o.xp6(3),o.Q6J("ngIf",n.page.empty),o.xp6(22),o.Q6J("disabled",!0),o.xp6(1),o.hij("\n        ",n.page.number+1,"\n      "))},directives:[r.O5,u.DPz,u.fMN],styles:[""]}),t})()},35656:function(t,n,e){e.d(n,{M:function(){return s}});var o=e(37716),r=e(38583);const u=function(t){return{"table-striped":t}},i=["*"];let s=(()=>{class t{constructor(){this.tableSize="table-sm",this.tableStriped=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngx-app-table"]],inputs:{tableSize:"tableSize",tableStriped:"tableStriped"},ngContentSelectors:i,decls:8,vars:3,consts:[[1,"table-responsive"],[1,"table","table-hover",3,"ngClass"]],template:function(t,n){1&t&&(o.F$t(),o.TgZ(0,"div",0),o._uU(1,"\n  "),o.TgZ(2,"table",1),o._uU(3,"\n    "),o.Hsn(4),o._uU(5,"\n  "),o.qZA(),o._uU(6,"\n"),o.qZA(),o._uU(7,"\n")),2&t&&(o.xp6(2),o.Q6J("ngClass",o.VKq(1,u,n.tableStriped)))},directives:[r.mk],styles:[".nb-theme-default   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}.nb-theme-dark   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#fff}.nb-theme-cosmic   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#fff}.nb-theme-corporate   [_nghost-%COMP%]   table.table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#222b45}.table[_ngcontent-%COMP%]{vertical-align:middle}"]}),t})()},59650:function(t,n,e){e.d(n,{d:function(){return u}});var o=e(38583),r=e(37716);let u=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez]]}),t})()},65382:function(t,n,e){e.d(n,{D:function(){return r}});var o=e(37716);let r=(()=>{class t{constructor(){}set setId(t){this._id=t}get id(){return this._id}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},56603:function(t,n,e){e.d(n,{T:function(){return o}});class o{constructor(t){this.http=t}getPage(t){return this.http.post(this.env+"/paginate",t)}getById(t){return this.http.get(`${this.env+"/"}${t}`)}save(t){return this.http.post(`${this.env}`,t)}update(t){return this.http.put(this.env+"/update",t)}getAll(){return this.http.get(this.env+"/list")}}},55051:function(t,n,e){e.d(n,{D:function(){return m}});var o=e(38583),r=e(3679),u=e(97142),i=e(80798),s=e(24943),a=e(50628),c=e(89841),l=e(59650),d=e(29485),g=e(33132),p=e(37716);let m=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[i.D,d.v,g.k,s.l],imports:[[o.ez,u.nKr,u.T2N,u.zyh,u.KdK,c.I,u.V7y,r.u5,r.UX,l.d,u.uuI,a.yI.forChild(),u.IIj]]}),t})()},80798:function(t,n,e){e.d(n,{D:function(){return s}});var o=e(92340),r=e(56603),u=e(37716),i=e(91841);let s=(()=>{class t extends r.T{constructor(t){super(t)}get env(){return`${o.N.address}`}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(i.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})()},44198:function(t,n,e){e.r(n),e.d(n,{CustomerModule:function(){return O}});var o=e(55051),r=e(50628),u=e(59650),i=e(38583),s=e(3679),a=e(97142),c=e(89841),l=e(99763),d=e(51734);class g{static valid(){return t=>{const n=t.value;if(n&&8===n.length){const t=Number(n.substr(0,2)),e=Number(n.substr(2,2)),o=Number(n.substr(4,4)),r=new Date(o,e,t);if(!(0,d.isValid)(r))return{dateNotValid:!0}}return null}}}class p{static valid(){return t=>{const n=t.value;if(n){let t,e,o,r,u,i;if(i=1,n.length<11)return null;for(r=0;r<n.length-1;r++)if(n.charAt(r)!==n.charAt(r+1)){i=0;break}if(i)return{cpfNotValid:!0};for(t=n.substring(0,9),e=n.substring(9),o=0,r=10;r>1;r--)o+=t.charAt(10-r)*r;if(u=o%11<2?0:11-o%11,u!==Number(e.charAt(0)))return{cpfNotValid:!0};for(t=n.substring(0,10),o=0,r=11;r>1;r--)o+=t.charAt(11-r)*r;return u=o%11<2?0:11-o%11,u!==Number(e.charAt(1))?{cpfNotValid:!0}:null}return null}}}var m=e(37716),h=e(29485),f=e(67426);let _=(()=>{class t{constructor(){this.status="basic",this.date=null,this.dateChange=new m.vpe}emiteDate(){this.dateChange.emit(this.date)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["ngx-input-date"]],inputs:{status:"status",date:"date"},outputs:{dateChange:"dateChange"},decls:2,vars:2,consts:[["mask","00/00/0000","type","text","nbInput","","fullWidth","","placeholder","Data de Nascimento:",3,"ngModel","status","ngModelChange"]],template:function(t,n){1&t&&(m.TgZ(0,"input",0),m.NdJ("ngModelChange",function(t){return n.date=t})("ngModelChange",function(){return n.emiteDate()}),m.qZA(),m._uU(1,"\n")),2&t&&m.Q6J("ngModel",n.date)("status",n.status)},directives:[r.hx,a.h8i,s.Fj,s.JJ,s.On],styles:[""]}),t})(),b=(()=>{class t{constructor(t,n,e,o,r){this.formBuilder=t,this.activatedRoute=n,this.router=e,this.service=o,this.toastrService=r,this.submmited=!1,this.personTypeValue="PERSON"}ngOnInit(){this.form=this.formBuilder.group({name:[null,s.kI.required],document:[null,[s.kI.required,p.valid()]],birthDay:[null,[g.valid()]],phoneNumber:[null],personType:["PERSON"]})}togglePersonType(){this.personTypeValue="LEGAL"===this.personTypeValue?"PERSON":"LEGAL",this.personType.setValue(this.personTypeValue),this.document.setValue(null)}submit(){this.submmited=!0,!this.form.invalid&&this.service.save(this.form.value).subscribe(()=>{this.toastrService.success("Sucesso","Novo Registro adicionado"),this.router.navigate(["../list"],{relativeTo:this.activatedRoute})},()=>{this.toastrService.danger("Erro ao salvar","N\xe3o foi possivel realizar a a\xe7\xe3o")})}selectDate(t){this.birthDay.value(t)}back(){this.router.navigate(["../list"],{relativeTo:this.activatedRoute})}getStatus(t){return this.form.get(t).valid&&(this.form.get(t).touched||this.submmited)?"success":this.form.get(t).valid||!this.form.get(t).touched&&!this.submmited?"basic":"danger"}get name(){return this.form.get("name")}get personType(){return this.form.get("personType")}get birthDay(){return this.form.get("birthDay")}get phoneNumber(){return this.form.get("phoneNumber")}get document(){return this.form.get("document")}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(s.qu),m.Y36(l.gz),m.Y36(l.F0),m.Y36(h.v),m.Y36(a.quB))},t.\u0275cmp=m.Xpm({type:t,selectors:[["ngx-customer-add"]],decls:89,vars:16,consts:[[3,"formGroup","submit"],[1,"row"],[1,"col-lg-12"],[1,"row","mb-3"],[1,"col-md-9","col-12"],["for","name",1,"label"],["id","name","type","text","nbInput","","fullWidth","","placeholder","Nome:","formControlName","name",3,"status"],[3,"message","show"],[1,"col-md-3","col-12"],["id","document","type","text","nbInput","","placeholder","Documento","fullWidth","","formControlName","document",3,"status","mask"],["nbSuffix","","nbButton","","ghost","","type","button",3,"click"],["pack","eva",3,"icon"],[1,"col-md-6","col-12"],["for","telefone",1,"label"],["id","telefone","mask","(00) 0 0000-0000","type","text","nbInput","","fullWidth","","placeholder","Telefone:","formControlName","phoneNumber",3,"status"],["for","birthDay",1,"label"],["placeholder","Data de Nascimento:",3,"status","date"],[1,"d-flex","justify-content-between"],["type","button","nbButton","","outline","","status","basic",3,"click"],["icon","arrow-back-outline"],["type","submit","nbButton","","outline","","status","success"],["icon","save-outline"]],template:function(t,n){1&t&&(m.TgZ(0,"form",0),m.NdJ("submit",function(){return n.submit()}),m._uU(1,"\n  "),m.TgZ(2,"div",1),m._uU(3,"\n    "),m.TgZ(4,"div",2),m._uU(5,"\n      "),m.TgZ(6,"nb-card"),m._uU(7,"\n\n        "),m.TgZ(8,"nb-card-header"),m._uU(9,"\n          Novo \xdasuario\n        "),m.qZA(),m._uU(10,"\n\n        "),m.TgZ(11,"nb-card-body"),m._uU(12,"\n          "),m.TgZ(13,"div",3),m._uU(14,"\n\n            "),m.TgZ(15,"div",4),m._uU(16,"\n              "),m.TgZ(17,"label",5),m._uU(18,"Nome:"),m.qZA(),m._uU(19,"\n              "),m._UZ(20,"input",6),m._uU(21,"\n              "),m._UZ(22,"error-message",7),m._uU(23,"\n            "),m.qZA(),m._uU(24,"\n\n            "),m.TgZ(25,"div",8),m._uU(26,"\n              "),m.TgZ(27,"label",5),m._uU(28,"Documento:"),m.qZA(),m._uU(29,"\n              "),m.TgZ(30,"nb-form-field"),m._uU(31,"\n                "),m._UZ(32,"input",9),m._uU(33,"\n\n                "),m.TgZ(34,"button",10),m.NdJ("click",function(){return n.togglePersonType()}),m._uU(35,"\n                  "),m.TgZ(36,"nb-icon",11),m._uU(37,"\n                  "),m.qZA(),m._uU(38,"\n                "),m.qZA(),m._uU(39,"\n              "),m.qZA(),m._uU(40,"\n              "),m._UZ(41,"error-message",7),m._uU(42,"\n              "),m._UZ(43,"error-message",7),m._uU(44,"\n\n            "),m.qZA(),m._uU(45,"\n\n          "),m.qZA(),m._uU(46,"\n\n          "),m.TgZ(47,"div",3),m._uU(48,"\n\n            "),m.TgZ(49,"div",12),m._uU(50,"\n              "),m.TgZ(51,"label",13),m._uU(52,"Telefone:"),m.qZA(),m._uU(53,"\n              "),m._UZ(54,"input",14),m._uU(55,"\n            "),m.qZA(),m._uU(56,"\n\n            "),m.TgZ(57,"div",12),m._uU(58,"\n              "),m.TgZ(59,"label",15),m._uU(60,"Data de Nascimento:"),m.qZA(),m._uU(61,"\n              "),m.TgZ(62,"ngx-input-date",16),m.NdJ("date",function(t){return n.selectDate(t)}),m.qZA(),m._uU(63,"\n              "),m._UZ(64,"error-message",7),m._uU(65,"\n            "),m.qZA(),m._uU(66,"\n\n          "),m.qZA(),m._uU(67,"\n\n        "),m.qZA(),m._uU(68,"\n        "),m.TgZ(69,"nb-card-footer"),m._uU(70,"\n\n          "),m.TgZ(71,"div",17),m._uU(72,"\n            "),m.TgZ(73,"button",18),m.NdJ("click",function(){return n.back()}),m._uU(74,"\n              "),m._UZ(75,"nb-icon",19),m._uU(76,"\n            "),m.qZA(),m._uU(77,"\n\n            "),m.TgZ(78,"button",20),m._uU(79,"\n              "),m._UZ(80,"nb-icon",21),m._uU(81,"\n            "),m.qZA(),m._uU(82,"\n          "),m.qZA(),m._uU(83,"\n\n        "),m.qZA(),m._uU(84,"\n      "),m.qZA(),m._uU(85,"\n\n    "),m.qZA(),m._uU(86,"\n\n  "),m.qZA(),m._uU(87,"\n"),m.qZA(),m._uU(88,"\n")),2&t&&(m.Q6J("formGroup",n.form),m.xp6(20),m.Q6J("status",n.getStatus("name")),m.xp6(2),m.Q6J("message","Nome \xe9 obrigat\xf3rio")("show",(null==n.name.errors?null:n.name.errors.required)&&(n.submmited||n.form.touched)),m.xp6(10),m.Q6J("status",n.getStatus("document"))("mask","PERSON"===n.personTypeValue?"000.000.000-00":"00.000.000/0000-00"),m.xp6(4),m.Q6J("icon","PERSON"===n.personTypeValue?"person-outline":"car-outline"),m.uIk("aria-label","LEGAL"===n.personTypeValue?"LEGAL":"PERSON"),m.xp6(5),m.Q6J("message","Documento \xe9 obrigat\xf3rio")("show",(null==n.document.errors?null:n.document.errors.required)&&(n.submmited||n.form.touched)),m.xp6(2),m.Q6J("message","Esse n\xfamero n\xe3o \xe9 valido \xe9 obrigat\xf3rio")("show",(null==n.document.errors?null:n.document.errors.cpfNotValid)&&(n.submmited||n.form.touched)),m.xp6(11),m.Q6J("status",n.getStatus("phoneNumber")),m.xp6(8),m.Q6J("status",n.getStatus("birthDay")),m.xp6(2),m.Q6J("message","Esse data n\xe3o \xe9 valida")("show",(null==n.birthDay.errors?null:n.birthDay.errors.dateNotValid)&&(n.submmited||n.form.touched)))},directives:[s._Y,s.JL,s.sg,a.Asz,a.ndF,a.yKW,a.h8i,s.Fj,s.JJ,s.u,f.H,a.jBG,r.hx,a.DPz,a.yyc,a.fMN,_,a.XWE],styles:[""]}),t})(),U=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["ngx-customer-delete"]],decls:3,vars:0,template:function(t,n){1&t&&(m.TgZ(0,"p"),m._uU(1,"customer-delete works!"),m.qZA(),m._uU(2,"\n"))},styles:[""]}),t})();var Z=e(65382);function v(t,n){if(1&t){const t=m.EpF();m.TgZ(0,"div"),m._uU(1,"\n  "),m.TgZ(2,"form",1),m.NdJ("submit",function(){return m.CHM(t),m.oxw().submit()}),m._uU(3,"\n    "),m.TgZ(4,"div",2),m._uU(5,"\n      "),m.TgZ(6,"div",3),m._uU(7,"\n        "),m.TgZ(8,"nb-card"),m._uU(9,"\n\n          "),m.TgZ(10,"nb-card-header"),m._uU(11,"\n            Novo \xdasuario\n          "),m.qZA(),m._uU(12,"\n\n          "),m.TgZ(13,"nb-card-body"),m._uU(14,"\n            "),m.TgZ(15,"div",4),m._uU(16,"\n\n              "),m.TgZ(17,"div",5),m._uU(18,"\n                "),m.TgZ(19,"label",6),m._uU(20,"Nome:"),m.qZA(),m._uU(21,"\n                "),m._UZ(22,"input",7),m._uU(23,"\n                "),m._UZ(24,"error-message",8),m._uU(25,"\n              "),m.qZA(),m._uU(26,"\n\n              "),m.TgZ(27,"div",9),m._uU(28,"\n                "),m.TgZ(29,"label",6),m._uU(30,"Documento:"),m.qZA(),m._uU(31,"\n                "),m.TgZ(32,"nb-form-field"),m._uU(33,"\n                  "),m._UZ(34,"input",10),m._uU(35,"\n\n                  "),m.TgZ(36,"button",11),m.NdJ("click",function(){return m.CHM(t),m.oxw().togglePersonType()}),m._uU(37,"\n                    "),m.TgZ(38,"nb-icon",12),m._uU(39,"\n                    "),m.qZA(),m._uU(40,"\n                  "),m.qZA(),m._uU(41,"\n                "),m.qZA(),m._uU(42,"\n                "),m._UZ(43,"error-message",8),m._uU(44,"\n                "),m._UZ(45,"error-message",8),m._uU(46,"\n\n              "),m.qZA(),m._uU(47,"\n\n            "),m.qZA(),m._uU(48,"\n\n            "),m.TgZ(49,"div",4),m._uU(50,"\n\n              "),m.TgZ(51,"div",13),m._uU(52,"\n                "),m.TgZ(53,"label",14),m._uU(54,"Telefone:"),m.qZA(),m._uU(55,"\n                "),m._UZ(56,"input",15),m._uU(57,"\n              "),m.qZA(),m._uU(58,"\n\n              "),m.TgZ(59,"div",13),m._uU(60,"\n                "),m.TgZ(61,"label",16),m._uU(62,"Data de Nascimento:"),m.qZA(),m._uU(63,"\n                "),m._UZ(64,"input",17),m._uU(65,"\n                "),m._UZ(66,"error-message",8),m._uU(67,"\n              "),m.qZA(),m._uU(68,"\n\n            "),m.qZA(),m._uU(69,"\n\n          "),m.qZA(),m._uU(70,"\n          "),m.TgZ(71,"nb-card-footer"),m._uU(72,"\n\n            "),m.TgZ(73,"div",18),m._uU(74,"\n              "),m.TgZ(75,"button",19),m.NdJ("click",function(){return m.CHM(t),m.oxw().back()}),m._uU(76,"\n                "),m._UZ(77,"nb-icon",20),m._uU(78,"\n              "),m.qZA(),m._uU(79,"\n\n              "),m.TgZ(80,"button",21),m._uU(81,"\n                "),m._UZ(82,"nb-icon",22),m._uU(83,"\n              "),m.qZA(),m._uU(84,"\n            "),m.qZA(),m._uU(85,"\n\n          "),m.qZA(),m._uU(86,"\n        "),m.qZA(),m._uU(87,"\n\n      "),m.qZA(),m._uU(88,"\n\n    "),m.qZA(),m._uU(89,"\n  "),m.qZA(),m._uU(90,"\n\n"),m.qZA()}if(2&t){const t=m.oxw();m.xp6(2),m.Q6J("formGroup",t.form),m.xp6(20),m.Q6J("status",t.getStatus("name")),m.xp6(2),m.Q6J("message","Nome \xe9 obrigat\xf3rio")("show",(null==t.name.errors?null:t.name.errors.required)&&(t.submmited||t.form.touched)),m.xp6(10),m.Q6J("status",t.getStatus("document"))("mask","PERSON"===t.personTypeValue?"000.000.000-00":"00.000.000/0000-00"),m.xp6(4),m.Q6J("icon","PERSON"===t.personTypeValue?"person-outline":"car-outline"),m.uIk("aria-label","LEGAL"===t.personTypeValue?"LEGAL":"PERSON"),m.xp6(5),m.Q6J("message","Documento \xe9 obrigat\xf3rio")("show",(null==t.document.errors?null:t.document.errors.required)&&(t.submmited||t.form.touched)),m.xp6(2),m.Q6J("message","Esse n\xfamero n\xe3o \xe9 valido \xe9 obrigat\xf3rio")("show",(null==t.document.errors?null:t.document.errors.cpfNotValid)&&(t.submmited||t.form.touched)),m.xp6(11),m.Q6J("status",t.getStatus("phoneNumber")),m.xp6(8),m.Q6J("status",t.getStatus("birthDay")),m.xp6(2),m.Q6J("message","Esse data n\xe3o \xe9 valida")("show",(null==t.birthDay.errors?null:t.birthDay.errors.dateNotValid)&&(t.submmited||t.form.touched))}}let T=(()=>{class t{constructor(t,n,e,o,r,u){this.data=t,this.service=n,this.formBuilder=e,this.activatedRoute=o,this.router=r,this.toastrService=u,this.loaded=!1,this.submmited=!1,this.personTypeValue="PERSON"}ngOnInit(){this.id=this.data.id,this.service.getById(this.id).subscribe(t=>{this.customer=t,this.form=this.formBuilder.group({id:[t.id,s.kI.required],name:[t.name,s.kI.required],document:[t.document,[s.kI.required,p.valid()]],birthDay:[t.birthDay,[g.valid()]],phoneNumber:[t.phoneNumber],personType:[t.personType]}),this.loaded=!0})}togglePersonType(){this.personTypeValue="LEGAL"===this.personTypeValue?"PERSON":"LEGAL",this.personType.setValue(this.personTypeValue),this.document.setValue(null)}submit(){this.submmited=!0,!this.form.invalid&&this.service.update(this.form.value).subscribe(()=>{this.toastrService.success("Sucesso","Novo Registro adicionado"),this.router.navigate(["../list"],{relativeTo:this.activatedRoute})},()=>{this.toastrService.danger("Erro ao salvar","N\xe3o foi possivel realizar a a\xe7\xe3o")})}back(){this.router.navigate(["../list"],{relativeTo:this.activatedRoute})}getStatus(t){return this.form.get(t).valid&&(this.form.get(t).touched||this.submmited)?"success":this.form.get(t).valid||!this.form.get(t).touched&&!this.submmited?"basic":"danger"}get name(){return this.form.get("name")}get personType(){return this.form.get("personType")}get birthDay(){return this.form.get("birthDay")}get phoneNumber(){return this.form.get("phoneNumber")}get document(){return this.form.get("document")}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(Z.D),m.Y36(h.v),m.Y36(s.qu),m.Y36(l.gz),m.Y36(l.F0),m.Y36(a.quB))},t.\u0275cmp=m.Xpm({type:t,selectors:[["ngx-customer-edit"]],decls:3,vars:1,consts:[[4,"ngIf"],[3,"formGroup","submit"],[1,"row"],[1,"col-lg-12"],[1,"row","mb-3"],[1,"col-md-9","col-12"],["for","name",1,"label"],["id","name","type","text","nbInput","","fullWidth","","placeholder","Nome:","formControlName","name",3,"status"],[3,"message","show"],[1,"col-md-3","col-12"],["id","document","type","text","nbInput","","placeholder","Documento","fullWidth","","formControlName","document",3,"status","mask"],["nbSuffix","","nbButton","","ghost","","type","button",3,"click"],["pack","eva",3,"icon"],[1,"col-md-6","col-12"],["for","telefone",1,"label"],["id","telefone","mask","(00) 0 0000-0000","type","text","nbInput","","fullWidth","","placeholder","Telefone:","formControlName","phoneNumber",3,"status"],["for","birthDay",1,"label"],["id","birthDay","mask","00/00/0000","type","text","nbInput","","fullWidth","","placeholder","Data de Nascimento:","formControlName","birthDay",3,"status"],[1,"d-flex","justify-content-between"],["type","button","nbButton","","outline","","status","basic",3,"click"],["icon","arrow-back-outline"],["type","submit","nbButton","","outline","","status","success"],["icon","save-outline"]],template:function(t,n){1&t&&(m._uU(0,"\n"),m.YNc(1,v,91,16,"div",0),m._uU(2,"\n")),2&t&&(m.xp6(1),m.Q6J("ngIf",n.loaded))},directives:[i.O5,s._Y,s.JL,s.sg,a.Asz,a.ndF,a.yKW,a.h8i,s.Fj,s.JJ,s.u,f.H,a.jBG,r.hx,a.DPz,a.yyc,a.fMN,a.XWE],styles:[""]}),t})();var A=e(35656),y=e(70319),N=e(77069);function q(t,n){1&t&&m._UZ(0,"nb-icon",17)}function x(t,n){1&t&&m._UZ(0,"nb-icon",18)}function k(t,n){1&t&&m._UZ(0,"nb-icon",17)}function w(t,n){1&t&&m._UZ(0,"nb-icon",18)}function J(t,n){if(1&t){const t=m.EpF();m.TgZ(0,"tr"),m._uU(1,"\n          "),m.TgZ(2,"td",19),m._uU(3),m.qZA(),m._uU(4,"\n          "),m.TgZ(5,"td",19),m._uU(6),m.ALo(7,"identification"),m.qZA(),m._uU(8,"\n\n          "),m.TgZ(9,"td",19),m._uU(10,"\n            "),m.TgZ(11,"button",20),m.NdJ("click",function(){const n=m.CHM(t).$implicit;return m.oxw().edit(n.id)}),m._uU(12,"\n              "),m._UZ(13,"nb-icon",21),m._uU(14,"\n            "),m.qZA(),m._uU(15,"\n          "),m.qZA(),m._uU(16,"\n\n          "),m.TgZ(17,"td",19),m._uU(18,"\n            "),m.TgZ(19,"button",22),m.NdJ("click",function(){const n=m.CHM(t).$implicit;return m.oxw().remove(n.id)}),m._uU(20,"\n              "),m._UZ(21,"nb-icon",23),m._uU(22,"\n            "),m.qZA(),m._uU(23,"\n          "),m.qZA(),m._uU(24,"\n        "),m.qZA()}if(2&t){const t=n.$implicit;m.xp6(3),m.Oqu(t.name),m.xp6(3),m.Oqu(m.lcZ(7,2,t.document))}}function C(t,n){if(1&t){const t=m.EpF();m.TgZ(0,"td",24),m._uU(1,"\n              "),m.TgZ(2,"ngx-app-table-footer",25),m.NdJ("search",function(n){return m.CHM(t),m.oxw().paginate(n)}),m._uU(3,"\n              "),m.qZA(),m._uU(4,"\n          "),m.qZA()}if(2&t){const t=m.oxw();m.xp6(2),m.Q6J("page",t.page)}}const P=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["ngx-customer"]],decls:1,vars:0,template:function(t,n){1&t&&m._UZ(0,"router-outlet")},directives:[l.lC],encapsulation:2}),t})(),children:[{path:"list",component:(()=>{class t{constructor(t,n,e,o){this.service=t,this.activatedRoute=n,this.router=e,this.data=o,this.filter={name:"",document:"",page:0,pageSize:10,direction:"ASC",sortedField:"name"},this.personType="PERSON",this.loading=!1}ngOnInit(){this.search()}add(){this.router.navigate(["../add"],{relativeTo:this.activatedRoute})}edit(t){this.data.setId=t,this.router.navigate(["../edit"],{relativeTo:this.activatedRoute})}remove(t){this.router.navigate(["../delete"],{relativeTo:this.activatedRoute})}order(t){this.filter.sortedField=t,this.filter.direction="ASC"===this.filter.direction?"DESC":"ASC",this.search()}togglePersonType(){this.filter.document=null,this.personType="LEGAL"===this.personType?"PERSON":"LEGAL"}paginate(t){this.filter.page=t,this.search("paginate")}search(t="serch"){"serch"===t&&(this.filter.page=0),this.loading=!0,this.service.getPage(this.filter).subscribe(t=>{this.page=t,this.loading=!1})}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(h.v),m.Y36(l.gz),m.Y36(l.F0),m.Y36(Z.D))},t.\u0275cmp=m.Xpm({type:t,selectors:[["ngx-customer-list"]],decls:86,vars:12,consts:[[3,"nbSpinner"],[1,"col-9","align-middle",3,"click"],["icon","arrow-ios-upward-outline",4,"ngIf"],["icon","arrow-ios-downward-outline",4,"ngIf"],[1,"col-2","align-middle",3,"click"],["colspan","2",1,"col-1","align-middle"],["nbButton","","outline","","status","basic","fullWidth","",3,"click"],["icon","plus-outline"],["type","text","nbInput","","placeholder","Nome","fullWidth","",3,"ngModel","keydown.enter","ngModelChange"],["type","text","nbInput","","placeholder","Documento","fullWidth","",3,"mask","ngModel","keydown.enter","ngModelChange"],["nbSuffix","","nbButton","","ghost","",3,"click"],["pack","eva",3,"icon"],["colspan","2"],["nbButton","","outline","","status","success","fullWidth","",3,"click"],["icon","search-outline"],[4,"ngFor","ngForOf"],["colspan","4",4,"ngIf"],["icon","arrow-ios-upward-outline"],["icon","arrow-ios-downward-outline"],[1,"align-middle"],["nbButton","","outline","","status","warning","fullWidth","",3,"click"],["icon","edit-2-outline"],["nbButton","","outline","","status","danger","fullWidth","",3,"click"],["icon","trash-2-outline"],["colspan","4"],[3,"page","search"]],template:function(t,n){1&t&&(m.TgZ(0,"nb-card"),m._uU(1,"\n\n  "),m.TgZ(2,"nb-card-header"),m._uU(3,"\n    Us\xfaarios\n  "),m.qZA(),m._uU(4,"\n\n  "),m.TgZ(5,"nb-card-body"),m._uU(6,"\n\n    "),m.TgZ(7,"ngx-app-table",0),m._uU(8,"\n      "),m.TgZ(9,"thead"),m._uU(10,"\n        "),m.TgZ(11,"tr"),m._uU(12,"\n\n          "),m.TgZ(13,"th",1),m.NdJ("click",function(){return n.order("name")}),m._uU(14,"\n              Nome:\n              "),m.YNc(15,q,1,0,"nb-icon",2),m._uU(16,"\n              "),m.YNc(17,x,1,0,"nb-icon",3),m._uU(18,"\n          "),m.qZA(),m._uU(19,"\n\n          "),m.TgZ(20,"th",4),m.NdJ("click",function(){return n.order("document")}),m._uU(21,"\n            Documento:\n            "),m.YNc(22,k,1,0,"nb-icon",2),m._uU(23,"\n            "),m.YNc(24,w,1,0,"nb-icon",3),m._uU(25,"\n          "),m.qZA(),m._uU(26,"\n\n          "),m.TgZ(27,"th",5),m._uU(28,"\n            "),m.TgZ(29,"button",6),m.NdJ("click",function(){return n.add()}),m._uU(30,"\n              "),m._UZ(31,"nb-icon",7),m._uU(32,"\n            "),m.qZA(),m._uU(33,"\n          "),m.qZA(),m._uU(34,"\n        "),m.qZA(),m._uU(35,"\n      "),m.qZA(),m._uU(36,"\n\n      "),m.TgZ(37,"thead"),m._uU(38,"\n        "),m.TgZ(39,"tr"),m._uU(40,"\n\n          "),m.TgZ(41,"th"),m._uU(42,"\n            "),m.TgZ(43,"input",8),m.NdJ("keydown.enter",function(){return n.search()})("ngModelChange",function(t){return n.filter.name=t}),m.qZA(),m._uU(44,"\n          "),m.qZA(),m._uU(45,"\n\n          "),m.TgZ(46,"th"),m._uU(47,"\n            "),m.TgZ(48,"nb-form-field"),m._uU(49,"\n              "),m.TgZ(50,"input",9),m.NdJ("keydown.enter",function(){return n.search()})("ngModelChange",function(t){return n.filter.document=t}),m.qZA(),m._uU(51,"\n              "),m.TgZ(52,"button",10),m.NdJ("click",function(){return n.togglePersonType()}),m._uU(53,"\n                "),m.TgZ(54,"nb-icon",11),m._uU(55,"\n                "),m.qZA(),m._uU(56,"\n              "),m.qZA(),m._uU(57,"\n            "),m.qZA(),m._uU(58,"\n          "),m.qZA(),m._uU(59,"\n\n          "),m.TgZ(60,"th",12),m._uU(61,"\n            "),m.TgZ(62,"button",13),m.NdJ("click",function(){return n.search()}),m._uU(63,"\n              "),m._UZ(64,"nb-icon",14),m._uU(65,"\n            "),m.qZA(),m._uU(66,"\n          "),m.qZA(),m._uU(67,"\n\n        "),m.qZA(),m._uU(68,"\n      "),m.qZA(),m._uU(69,"\n\n      "),m.TgZ(70,"tbody"),m._uU(71,"\n        "),m.YNc(72,J,25,4,"tr",15),m._uU(73,"\n      "),m.qZA(),m._uU(74,"\n\n      "),m.TgZ(75,"tfoot"),m._uU(76,"\n        "),m.TgZ(77,"tr"),m._uU(78,"\n          "),m.YNc(79,C,5,1,"td",16),m._uU(80,"\n        "),m.qZA(),m._uU(81,"\n      "),m.qZA(),m._uU(82,"\n\n    "),m.qZA(),m._uU(83,"\n\n  "),m.qZA(),m._uU(84,"\n\n"),m.qZA(),m._uU(85,"\n")),2&t&&(m.xp6(7),m.Q6J("nbSpinner",n.loading),m.xp6(8),m.Q6J("ngIf","name"===n.filter.sortedField&&"ASC"===n.filter.direction),m.xp6(2),m.Q6J("ngIf","name"===n.filter.sortedField&&"DESC"===n.filter.direction),m.xp6(5),m.Q6J("ngIf","document"===n.filter.sortedField&&"ASC"===n.filter.direction),m.xp6(2),m.Q6J("ngIf","document"===n.filter.sortedField&&"DESC"===n.filter.direction),m.xp6(19),m.Q6J("ngModel",n.filter.name),m.xp6(7),m.Q6J("mask","PERSON"===n.personType?"000.000.000-00":"00.000.000/0000-00")("ngModel",n.filter.document),m.xp6(4),m.Q6J("icon","PERSON"===n.personType?"person-outline":"car-outline"),m.uIk("aria-label","LEGAL"===n.personType?"LEGAL":"PERSON"),m.xp6(18),m.Q6J("ngForOf",null==n.page?null:n.page.content),m.xp6(7),m.Q6J("ngIf",n.page))},directives:[a.Asz,a.ndF,a.yKW,A.M,a.Q7R,i.O5,a.DPz,a.fMN,a.h8i,s.Fj,s.JJ,s.On,a.jBG,r.hx,a.yyc,i.sg,y.L],pipes:[N.X],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-dark   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{border:none;padding-top:.5rem;padding-bottom:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{border:none;padding-top:.5rem;padding-bottom:.5rem}nb-card-body[_ngcontent-%COMP%]{overflow:visible;padding-top:0}nb-card-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1rem}.full-name-inputs[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%]{display:flex;margin:0 -.5rem}.full-name-inputs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}.checkbox-radio[_ngcontent-%COMP%]{display:flex}.demo-items[_ngcontent-%COMP%]{flex:1 0 33%}"]}),t})()},{path:"add",component:b},{path:"edit",component:T},{path:"delete:id",component:U},{path:"",redirectTo:"list",pathMatch:"full"},{path:"**",redirectTo:"list"}]}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[l.Bz.forChild(P)],l.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[h.v],imports:[[i.ez,S,a.zyh,a.nKr,a.T2N,c.I,a.uuI,s.u5,s.UX,a.KdK,u.d,a.V7y,o.D,r.yI.forChild()]]}),t})()},29485:function(t,n,e){e.d(n,{v:function(){return s}});var o=e(92340),r=e(56603),u=e(37716),i=e(91841);let s=(()=>{class t extends r.T{constructor(t){super(t)}get env(){return`${o.N.customer}`}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(i.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})()},24943:function(t,n,e){e.d(n,{l:function(){return s}});var o=e(92340),r=e(56603),u=e(37716),i=e(91841);let s=(()=>{class t extends r.T{constructor(t){super(t)}get env(){return`${o.N.group}`}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(i.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})()},33132:function(t,n,e){e.d(n,{k:function(){return s}});var o=e(92340),r=e(56603),u=e(37716),i=e(91841);let s=(()=>{class t extends r.T{constructor(t){super(t)}get env(){return`${o.N.place}`}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(i.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})()}}]);